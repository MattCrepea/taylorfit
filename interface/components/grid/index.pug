
.input-bar
  input#input-csv(type="file" accept=".csv" data-bind="value:csv_file" hidden)
  // ko if:loaded
  label.button(for="input-csv")
    span Import
  // /ko
  // ko ifnot:loaded
  label.button.start(for="input-csv")
    span Import Data &nbsp;
    span.small (Click Here)
    hr
    span.small Program requires data to begin
  // /ko
  // ko if:loaded
  label.button(data-bind="click:save") Export
  span.name(data-bind="text:name")
  // /ko
.table-wrapper(data-bind="if:loaded")
  table.grid
    thead
      tr
        th
          //- empty for row numbers
        // ko foreach: cols
        th(data-bind="css:{dependent:$index() === $parent.dependent()}")
          //-input(data-bind="value:name")
          // ko if:name
          span(data-bind="text:name")
          // /ko
          span.placeholder(data-bind="ifnot:name")
            span X
            sub(data-bind="text:$index")
          tf-dropdown(params="shallow:1,align:'right'")
            span.mark(data-bind="click:function(){dependent($index())}")
              | Mark as Dependant
            //-span.insert.sep(data-bind="click:function(){cols.ins($index())}")
              | Insert Column Before
            //-span.insert(data-bind="click:function(){cols.ins($index()+1)}")
              | Insert Column After
            span.remove.sep(data-bind="click:function(){cols.del($index())}")
              | Remove Column
        // /ko
        //th.add(data-bind="click:cols.add")
        //  a.fa.fa-plus
    tbody(data-bind="event:{mousewheel:scroll}")
      // ko foreach: rows()
      // ko if:$parent.location() <= $index() && $index() < $parent.location() + $parent.pagesize()
      tr
        td.static
          span(data-bind="text:1+$index()")
          tf-dropdown(params="shallow:1,align:'left'")
            //-span.insert(data-bind="click:function(){rows.ins($index())}")
              | Insert Row Before
            //-span.insert(data-bind="click:function(){rows.ins($index()+1)}")
              | Insert Row After
            span.remove.sep(data-bind="click:function(){rows.del($index())}")
              | Remove Row
        // ko foreach: $data
        td
          // ko if: $data != null
          span(data-bind="text:$data")
          // /ko
          span.placeholder(data-bind="if:$data == null") No Data
        // /ko
      // /ko
      // /ko
      //-tr
        td.add(data-bind="click:rows.add")
          a.fa.fa-plus

